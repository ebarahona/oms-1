{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/OmsLayers","src/FunctionUtils.js"],"names":["FunctionUtils","objectPublicFunctions","object","objFunctions","functionNames","attribute","push","filter","objectReplicateFunctions","sourceObject","targetObject","excludeFunctions","Array","isArray","functions","forEach","functionName","indexOf","apply","prototype","slice","call","arguments","module","exports"],"mappings":"AAAA;AEAA,GAAIA,iBAEJA,eAAcC,sBAAwB,SAASC,GAC9C,QAASC,GAAaD,GACrB,GAAIE,KACJ,KAAI,GAAIC,KAAaH,GACY,kBAAtBA,GAAOG,IAChBD,EAAcE,KAAKD,EAErB,OAAOD,GAGR,MAAOD,GAAaD,GAAQK,OAAO,SAASF,GAC3C,MAAyB,MAAjBA,EAAU,IAA4B,oBAAdA,KAIlCL,cAAcQ,yBAA2B,SAASC,EAAcC,EAAcC,GACzEC,MAAMC,QAAQF,KACjBA,KAED,IAAIG,GAAYd,cAAcC,sBAAsBQ,EACpDK,GAAUC,QAAQ,SAASC,GACc,mBAA9BN,GAAaM,IAAgCL,EAAiBM,QAAQD,GAAgB,IAE/FN,EAAaM,GAAgB,WAC5BP,EAAaO,GAAcE,MAAMT,EAAcG,MAAMO,UAAUC,MAAMC,KAAKC,iBAM9EC,OAAOC,QAAUxB;;ADhCjB","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function OmsLayers(e,o){var t=this;t.cacheCollection=e,t.masterCollection=o,FunctionUtils.objectReplicateFunctions(t.masterCollection,t),t.masterCollection.on(\"insert\",function(e,o){t.cacheCollection.insert(e,o)}),t.masterCollection.on(\"update\",function(e,o,n,i){t.cacheCollection.update({_id:e._id},n,i)}),t.masterCollection.on(\"remove\",function(e,o){t.cacheCollection.remove({_id:e._id})})}var FunctionUtils=require(\"./FunctionUtils\");module.exports=function(e,o){return new OmsLayers(e,o)};","var FunctionUtils = {};\n\nFunctionUtils.objectPublicFunctions = function(object) {\n\tfunction objFunctions(object) {\n\t\tvar functionNames = [];\n\t\tfor(var attribute in object) {\n\t\t\tif(typeof object[attribute] === 'function')\n\t\t\t\tfunctionNames.push(attribute);\n\t\t}\n\t\treturn functionNames;\n\t}\n\n\treturn objFunctions(object).filter(function(attribute) {\n\t\treturn (attribute[0] !== '_' && attribute !== 'globalFunctions');\n\t});\n};\n\nFunctionUtils.objectReplicateFunctions = function(sourceObject, targetObject, excludeFunctions) {\n\tif(!Array.isArray(excludeFunctions))\n\t\texcludeFunctions = [];\n\n\tvar functions = FunctionUtils.objectPublicFunctions(sourceObject); // get collection's public functions\n\tfunctions.forEach(function(functionName) {\n\t\tif(typeof targetObject[functionName] == 'undefined' && excludeFunctions.indexOf(functionName) < 0) { // safety check, don't override own functions\n\t\t\t// set own public function to match collection's function\n\t\t\ttargetObject[functionName] = function () {\n\t\t\t\tsourceObject[functionName].apply(sourceObject, Array.prototype.slice.call(arguments));\n\t\t\t}\n\t\t}\n\t});\n};\n\nmodule.exports = FunctionUtils;"]}